document.addEventListener("DOMContentLoaded",()=>{function e(e){$("#errorMessages").css("display","block");var s='<ul id="messages">';$.each(e,function(e,a){s=s+"<li><b>"+a+"</b></li>"}),s+="</ul>",$("#errorMessages").append(s)}function s(){$("#errorMessages").remove(),$("#success").css("display","block"),$("#success").show().delay(5e3).fadeOut()}function a(){t()}function t(){$("#contactus-submit").trigger("reset"),$("#success").css("display","none"),$("#errorMessages ul").remove(),$("#errorMessages").css("display","none"),$("#btn-submit").html("Send Inquiry"),$("#btn-submit").attr("disabled",!1)}t(),$(function(){$("#contactus-submit").submit(function(t){t.preventDefault();var r,n=[];if(t.target.name.value||n.push("Name is required"),t.target.email.value||n.push("Email is required"),t.target.message.value||n.push("Message is required"),t.target.email.value&&(r=t.target.email.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase()))&&n.push("Invalid email"),n&&n.length)$("#errorMessages ul").remove(),$("#errorMessages").css("display","none"),e(n);else{var i=t.currentTarget.action;$("#btn-submit").html("Sending..."),$("#btn-submit").attr("disabled",!0),grecaptcha.ready(function(){grecaptcha.execute("6Lfe5kwlAAAAAIMs9H9qX2E9X7qdK3PbdRwP6iFg",{action:"platformengineers_contactus_form"}).then(function(r){$.ajax({url:i,type:"post",data:JSON.stringify({name:t.target.name.value,email:t.target.email.value,message:t.target.message.value,recaptcha_response:r}),success:function(t){let{statusCode:r,body:n}=t;if(201===r)a(),s();else{let{error:i}=JSON.parse(n);e(i||["Something went wrong. Please try again"])}},error:function(s){a(),e((s.responseJSON?s.responseJSON.error:void 0)||["Something went wrong. Please try again"])}})})})}})})});